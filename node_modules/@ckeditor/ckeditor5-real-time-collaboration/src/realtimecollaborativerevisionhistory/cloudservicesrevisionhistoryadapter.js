/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2e112d=_0x3f12;(function(_0x5d23f8,_0xe80bab){const _0x39f7df=_0x3f12,_0x185f81=_0x5d23f8();while(!![]){try{const _0x43eaa5=-parseInt(_0x39f7df(0x1b6))/0x1+-parseInt(_0x39f7df(0x1d5))/0x2*(parseInt(_0x39f7df(0x1ac))/0x3)+parseInt(_0x39f7df(0x1b0))/0x4+parseInt(_0x39f7df(0x208))/0x5*(-parseInt(_0x39f7df(0x1cc))/0x6)+-parseInt(_0x39f7df(0x1a2))/0x7*(parseInt(_0x39f7df(0x1f1))/0x8)+-parseInt(_0x39f7df(0x1ee))/0x9+parseInt(_0x39f7df(0x1d2))/0xa;if(_0x43eaa5===_0xe80bab)break;else _0x185f81['push'](_0x185f81['shift']());}catch(_0x373ffe){_0x185f81['push'](_0x185f81['shift']());}}}(_0x1631,0x2a698));import{Plugin as _0x3c205b}from'ckeditor5/src/core.js';function _0x1631(){const _0x653362=['data','repository','size','_revisions','cloud-services-internal-error:\x20Request\x20timeout.','length','listenTo','_bufferedUpdates','keys','cloudServices.bundleVersion','sendBufferedUpdates','getRevision','_revisionDataBuilder','once','updateRevisions','_startingVersion','connect','addRevisionData','1311192VZrizV','getMany','_handleReconnectionError','16wwXAQN','affectsData','currentRevision','editor','_oldOffset','getOperations','RevisionHistoryService','requires','_handleRevisionsUpdate','adapter','_fetchMissingUsers','isBundleUploaded','catch','connection','from','setSource','_isConnected','getUser','destroy','isEmptyCurrent','addToReconnectionStack','setRevisionData','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','10245FDWifr','revisionsUpdated','sessionId','message','buildRevisionData','_lastRequestId','config','collaboration.channelId','diffData','349069CxBTiZ','_offset','plugins','getRevisions','reconnect','bind','_fixRevision','creatorId','_getLatestVersion','cloud-services-internal-error:\x20Not\x20connected.','93MrxEWE','off','state','reInit','1243352JcmapH','change:_isPendingUpdate','add','map','_revisionTracker','get','290044veQgLN','_preventResendingRevisionData','_getLatestVersionFromServerOperations','_waitForServiceReady','toVersion','_bufferUpdate','_createCurrentRevision','400','addUser','_isPendingUpdate','serverHistory','init','marker','remove','CONNECTED','authors','change:_isConnected','reverse','wrongRequestId','_update','fromVersion','startsWith','654kHZIKx','isEnabled','RevisionTracker','code','then','isConnected','7003980ZOYTAG','baseVersion','connected','5078aJKPEy','max','has','authorsIds','_revisionHistoryService','type','createdAt'];_0x1631=function(){return _0x653362;};return _0x1631();}import{version as _0xa4a7c}from'ckeditor5/src/utils.js';import{Users as _0x1cb3c8}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x5e7905 from'../realtimecollaborativeediting/realtimecollaborationclient.js';import _0x180cf5 from'../realtimecollaborativeediting/websocketgateway.js';import _0x2a5244 from'../realtimecollaborativeediting/sessions.js';function _0x3f12(_0x34a714,_0x14cd50){const _0x16318a=_0x1631();return _0x3f12=function(_0x3f12ef,_0x452ad6){_0x3f12ef=_0x3f12ef-0x19d;let _0x389360=_0x16318a[_0x3f12ef];return _0x389360;},_0x3f12(_0x34a714,_0x14cd50);}import{User as _0x25fffb}from'@ckeditor/ckeditor-cloud-services-collaboration';import{RevisionHistoryService as _0xb877a5,EditorService as _0x580de3,WEB_SOCKET_GATEWAY_STATES as _0x4050b2}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class v extends _0x3c205b{static get[_0x2e112d(0x1f8)](){const _0x194766=_0x2e112d;return[_0x180cf5,_0x5e7905,_0x194766(0x1ce),_0x2a5244,_0x1cb3c8];}constructor(_0x94063d){const _0x49e640=_0x2e112d;super(_0x94063d);const _0x4144f0=this[_0x49e640(0x1f4)][_0x49e640(0x19f)][_0x49e640(0x1b5)](_0x49e640(0x1a0));this[_0x49e640(0x19e)]=null,this[_0x49e640(0x1b4)]=this[_0x49e640(0x1f4)][_0x49e640(0x1a4)][_0x49e640(0x1b5)](_0x49e640(0x1ce)),this[_0x49e640(0x1d9)]=new v[(_0x49e640(0x1f7))](_0x4144f0);}async[_0x2e112d(0x1c1)](){const _0x203402=_0x2e112d,_0x18c3be=this[_0x203402(0x1f4)][_0x203402(0x1a4)][_0x203402(0x1b5)](_0x5e7905),_0x4608d4=_0x18c3be[_0x203402(0x1c0)],_0x819b33=this[_0x203402(0x1f4)][_0x203402(0x1a4)][_0x203402(0x1b5)](_0x180cf5);this[_0x203402(0x1b4)][_0x203402(0x200)]({'history':_0x4608d4,'getLatestVersion':()=>this[_0x203402(0x1aa)](),'getCurrentRevisionId':()=>_0x18c3be[_0x203402(0x20a)]});const _0x2dbbd9=this[_0x203402(0x1f4)][_0x203402(0x19f)][_0x203402(0x1b5)](_0x203402(0x1e5))||_0xa4a7c,_0x5efb45=await _0x580de3[_0x203402(0x1fc)](_0x819b33[_0x203402(0x1fe)],_0x2dbbd9);this[_0x203402(0x1b4)][_0x203402(0x1fa)]={'getRevision':async({revisionId:_0x451c3c})=>(await this[_0x203402(0x1b9)](),await this[_0x203402(0x1d9)][_0x203402(0x1e7)](_0x451c3c)),'updateRevisions':async _0x2e085e=>{const _0x29b942=_0x203402;await this[_0x29b942(0x1b9)]();const _0xc63e0e=this[_0x29b942(0x1b4)][_0x29b942(0x1f3)];if(_0x5efb45&&0x1===_0x2e085e[_0x29b942(0x1e1)]&&_0x2e085e[0x0]['id']===_0xc63e0e['id'])return _0x2e085e;for(const _0xe4f50d of _0x2e085e)_0xe4f50d['id']===_0xc63e0e['id']&&(_0xe4f50d[_0x29b942(0x204)]=_0xe4f50d[_0x29b942(0x1ca)]===_0xe4f50d[_0x29b942(0x1ba)]);return this[_0x29b942(0x1d9)][_0x29b942(0x1ea)](_0x2e085e,this[_0x29b942(0x19e)])[_0x29b942(0x1d0)](_0xa305eb=>(this[_0x29b942(0x19e)]=_0xa305eb,_0x2e085e))[_0x29b942(0x1fd)](_0x5c1511=>{const _0x9a8540=_0x29b942;if(st(_0x5c1511)||_0x9a8540(0x1bd)===_0x5c1511[_0x9a8540(0x1cf)]&&void 0x0!==_0x5c1511[_0x9a8540(0x1dc)][_0x9a8540(0x1c8)]){for(const _0x2f56b6 of _0x2e085e){!this[_0x9a8540(0x1b4)][_0x9a8540(0x1dd)][_0x9a8540(0x1e7)](_0x2f56b6['id'])||this[_0x9a8540(0x1b4)][_0x9a8540(0x1bb)](_0x2f56b6['id'],_0x2f56b6,!0x1);}if(st(_0x5c1511))throw _0x5c1511;return _0x2e085e;}throw _0x5c1511;});}},this[_0x203402(0x1e2)](this[_0x203402(0x1d9)],_0x203402(0x209),(_0x3197e7,{revisionsData:_0x32bd5c,requestId:_0x329f35})=>{const _0x426263=_0x203402;Math[_0x426263(0x1d6)](..._0x32bd5c[_0x426263(0x1b3)](_0x801459=>_0x801459[_0x426263(0x1ba)]))>this[_0x426263(0x1b8)]()-0x1?this[_0x426263(0x1aa)]()[_0x426263(0x1d0)](()=>{const _0x1e14b1=_0x426263;this[_0x1e14b1(0x1f9)](_0x32bd5c,_0x329f35);}):this[_0x426263(0x1f9)](_0x32bd5c,_0x329f35);});const {revisions:_0x531f8d,requestId:_0x1cb720}=await this[_0x203402(0x1d9)][_0x203402(0x1ec)](_0x819b33[_0x203402(0x1fe)]);_0x819b33[_0x203402(0x205)](this),this[_0x203402(0x19e)]=_0x1cb720,await this[_0x203402(0x1fb)](_0x531f8d);for(const _0x9207fa of _0x531f8d)this[_0x203402(0x1b4)][_0x203402(0x1ed)](_0x9207fa);this[_0x203402(0x1e2)](_0x18c3be,_0x203402(0x1c6),(_0x2be799,_0x9b4b1d,_0x1470a9)=>{const _0x4fea4e=_0x203402;_0x1470a9&&(this[_0x4fea4e(0x1f5)]=_0x18c3be[_0x4fea4e(0x1a3)],_0x2be799[_0x4fea4e(0x1ad)]());}),this[_0x203402(0x1b4)][_0x203402(0x1a7)](_0x203402(0x1cd))['to'](_0x819b33,_0x203402(0x1ae),_0x24a4cc=>_0x24a4cc===_0x4050b2[_0x203402(0x1c4)]);}async[_0x2e112d(0x1a6)](){const _0x5175b9=_0x2e112d,_0x26cc68=this[_0x5175b9(0x1f4)][_0x5175b9(0x1a4)][_0x5175b9(0x1b5)](_0x180cf5),_0x15e502=this[_0x5175b9(0x1f4)][_0x5175b9(0x1a4)][_0x5175b9(0x1b5)](_0x5e7905),_0x4be8d6=async()=>{const _0x50d8d4=_0x5175b9,_0x8932d9=this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1f3)],_0x539894=_0x8932d9['id'],_0x1df640=_0x539894!==_0x15e502[_0x50d8d4(0x20a)];if(_0x1df640){const _0x45f4ea=_0x15e502[_0x50d8d4(0x1a3)]-this[_0x50d8d4(0x1f5)],_0x2e416c=this[_0x50d8d4(0x1b8)]();this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1e8)][_0x50d8d4(0x1af)]();if(_0x8932d9[_0x50d8d4(0x1ba)]+_0x45f4ea!==_0x2e416c){const _0x200d9b=_0x8932d9[_0x50d8d4(0x1ca)]+_0x45f4ea,_0x484713=this[_0x50d8d4(0x1f4)][_0x50d8d4(0x1a4)][_0x50d8d4(0x1b5)](_0x1cb3c8),_0xf72ece=this[_0x50d8d4(0x1b4)][_0x50d8d4(0x19d)]({'revision':_0x8932d9,'from':_0x200d9b,'to':_0x2e416c});_0xf72ece['id']=_0x8932d9['id'];const _0x5107af=_0xf72ece[_0x50d8d4(0x1d8)][_0x50d8d4(0x1b3)](_0x693679=>_0x484713[_0x50d8d4(0x202)](_0x693679));_0x8932d9[_0x50d8d4(0x1c9)]({..._0xf72ece,'authors':_0x5107af},!0x0),this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1bb)](_0x8932d9['id'],_0xf72ece,!0x0);}this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1eb)]=_0x2e416c,(_0x8932d9[_0x50d8d4(0x1ba)]===_0x8932d9[_0x50d8d4(0x1ca)]&&!this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1e3)][_0x50d8d4(0x1d7)](_0x539894)&&this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1dd)][_0x50d8d4(0x1df)][_0x50d8d4(0x1c3)](_0x539894),this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1bc)](_0x2e416c));}const {revisions:_0x4a3323,requestId:_0x55c1b3}=await this[_0x50d8d4(0x1d9)][_0x50d8d4(0x1a6)](_0x26cc68[_0x50d8d4(0x1fe)],this[_0x50d8d4(0x19e)]);_0x1df640&&_0x4a3323[_0x50d8d4(0x1e1)]>0x0?_0x15e502[_0x50d8d4(0x1f0)]():(await this[_0x50d8d4(0x1fb)](_0x4a3323),this[_0x50d8d4(0x1f9)](_0x4a3323,_0x55c1b3),this[_0x50d8d4(0x1b4)][_0x50d8d4(0x1e6)]());};return _0x15e502[_0x5175b9(0x201)]?_0x4be8d6():new Promise((_0x14b94c,_0x142a31)=>{const _0x24803c=_0x5175b9;_0x15e502[_0x24803c(0x1e9)](_0x24803c(0x1c6),()=>{const _0x2cbe0e=_0x24803c;_0x4be8d6()[_0x2cbe0e(0x1d0)](_0x14b94c)[_0x2cbe0e(0x1fd)](_0x142a31);});});}[_0x2e112d(0x203)](){const _0x1f5ac7=_0x2e112d;super[_0x1f5ac7(0x203)]();}async[_0x2e112d(0x1b9)](){const _0x3afb4f=_0x2e112d;this[_0x3afb4f(0x1d9)][_0x3afb4f(0x1d1)]||await new Promise(_0x464b9e=>{const _0x4ecedb=_0x3afb4f;this[_0x4ecedb(0x1e2)](this[_0x4ecedb(0x1d9)],_0x4ecedb(0x1d4),_0x1798d4=>{const _0x5eebc0=_0x4ecedb;_0x1798d4[_0x5eebc0(0x1ad)](),_0x464b9e();});});}[_0x2e112d(0x1b8)](){const _0x1be8cb=_0x2e112d,_0x2a9db1=this[_0x1be8cb(0x1f4)][_0x1be8cb(0x1a4)][_0x1be8cb(0x1b5)](_0x5e7905)[_0x1be8cb(0x1c0)][_0x1be8cb(0x1f6)]()[_0x1be8cb(0x1c7)]();for(const _0x3edc2c of _0x2a9db1)if(_0x1be8cb(0x1c2)!==_0x3edc2c[_0x1be8cb(0x1da)]||_0x3edc2c[_0x1be8cb(0x1f2)])return _0x3edc2c[_0x1be8cb(0x1d3)]+0x1;}[_0x2e112d(0x1aa)](){const _0x4f1171=_0x2e112d,_0x307338=this[_0x4f1171(0x1f4)][_0x4f1171(0x1a4)][_0x4f1171(0x1b5)](_0x5e7905);return new Promise(_0x1bb840=>{const _0x32cac1=_0x4f1171;_0x307338[_0x32cac1(0x1bf)]?_0x307338[_0x32cac1(0x1e9)](_0x32cac1(0x1b1),()=>{const _0x276daa=_0x32cac1;_0x1bb840(this[_0x276daa(0x1b8)]());}):_0x1bb840(this[_0x32cac1(0x1b8)]());});}[_0x2e112d(0x1f9)](_0x1a3155,_0x663865){const _0x26194d=_0x2e112d,_0x12887e=this[_0x26194d(0x1b4)][_0x26194d(0x1dd)];this[_0x26194d(0x19e)]=_0x663865;for(const _0x50b1a9 of _0x1a3155){const _0x1ca6c9=_0x12887e[_0x26194d(0x1e7)](_0x50b1a9['id']);if(_0x1ca6c9){if((_0x50b1a9[_0x26194d(0x1ca)]||_0x50b1a9[_0x26194d(0x1ba)])&&(_0x50b1a9[_0x26194d(0x1a1)]=null),_0x1ca6c9===this[_0x26194d(0x1b4)][_0x26194d(0x1f3)]){const _0xf9c473=Math[_0x26194d(0x1d6)](_0x1ca6c9[_0x26194d(0x1ba)],_0x50b1a9[_0x26194d(0x1ba)]),_0x53c960=Math[_0x26194d(0x1d6)](_0x1ca6c9[_0x26194d(0x1ca)],_0x50b1a9[_0x26194d(0x1ca)]);let _0x20824a;_0x1ca6c9[_0x26194d(0x1ba)]===_0x50b1a9[_0x26194d(0x1ba)]&&_0x1ca6c9[_0x26194d(0x1ca)]===_0x50b1a9[_0x26194d(0x1ca)]?(_0x20824a=!0x0,this[_0x26194d(0x1b7)](_0x50b1a9)):_0x50b1a9[_0x26194d(0x1ba)]===_0xf9c473&&_0x50b1a9[_0x26194d(0x1ca)]===_0x53c960?_0x20824a=!0x1:(_0x1ca6c9[_0x26194d(0x1ba)]===_0xf9c473&&_0x1ca6c9[_0x26194d(0x1ca)]===_0x53c960||this[_0x26194d(0x1a8)]({'revision':_0x1ca6c9,'from':_0x53c960,'to':_0xf9c473}),_0x20824a=!0x0),_0x20824a&&(delete _0x50b1a9[_0x26194d(0x1ca)],delete _0x50b1a9[_0x26194d(0x1ba)],delete _0x50b1a9[_0x26194d(0x1a1)],delete _0x50b1a9[_0x26194d(0x1db)],delete _0x50b1a9[_0x26194d(0x1d8)]);}this[_0x26194d(0x1b4)][_0x26194d(0x206)](_0x50b1a9),this[_0x26194d(0x1b7)](_0x50b1a9);}else this[_0x26194d(0x1b4)][_0x26194d(0x1ed)](_0x50b1a9);}const _0x258c55=_0x12887e[_0x26194d(0x1a5)]();_0x258c55[_0x26194d(0x1c7)]();for(let _0x39b3b6=0x0;_0x39b3b6<_0x258c55[_0x26194d(0x1e1)]-0x1;_0x39b3b6++){const _0x297a21=_0x258c55[_0x39b3b6],_0x11e3b4=_0x258c55[_0x39b3b6+0x1];if(_0x297a21[_0x26194d(0x1ca)]<_0x11e3b4[_0x26194d(0x1ba)]){const _0x3699ff=_0x11e3b4[_0x26194d(0x1ba)],_0x470ced=Math[_0x26194d(0x1d6)](_0x3699ff,_0x297a21[_0x26194d(0x1ba)]);this[_0x26194d(0x1a8)]({'revision':_0x297a21,'from':_0x3699ff,'to':_0x470ced});}}}[_0x2e112d(0x1a8)]({revision:_0x5d5f90,from:_0x193058,to:_0x1ff958}={}){const _0x379694=_0x2e112d,_0x5185ff=this[_0x379694(0x1f4)][_0x379694(0x1a4)][_0x379694(0x1b5)](_0x1cb3c8),_0x3db535=this[_0x379694(0x1b4)][_0x379694(0x19d)]({'revision':_0x5d5f90,'from':_0x193058,'to':_0x1ff958});_0x3db535[_0x379694(0x1c5)]=_0x3db535[_0x379694(0x1d8)][_0x379694(0x1b3)](_0x274c47=>_0x5185ff[_0x379694(0x202)](_0x274c47)),_0x5d5f90[_0x379694(0x1c9)](_0x3db535);}[_0x2e112d(0x1b7)](_0x38f5d8){const _0x305dde=_0x2e112d,_0x1307cc={};_0x1307cc['id']=_0x38f5d8['id'];for(const _0x1d6876 of Object[_0x305dde(0x1e4)](_0x38f5d8))'id'!==_0x1d6876&&(_0x1307cc[_0x1d6876]=void 0x0);this[_0x305dde(0x1b4)][_0x305dde(0x1bb)](_0x1307cc['id'],_0x1307cc,!0x0);}async[_0x2e112d(0x1fb)](_0x2f658d){const _0x5de59e=_0x2e112d,_0x34de8f=this[_0x5de59e(0x1f4)][_0x5de59e(0x1a4)][_0x5de59e(0x1b5)](_0x1cb3c8),{connection:_0x442377}=this[_0x5de59e(0x1f4)][_0x5de59e(0x1a4)][_0x5de59e(0x1b5)](_0x180cf5),_0x2b19fe=new Set();for(const _0x1a63d1 of _0x2f658d){for(const _0x5913cf of _0x1a63d1[_0x5de59e(0x1d8)])_0x348e7c(_0x5913cf);_0x1a63d1[_0x5de59e(0x1a9)]&&_0x348e7c(_0x1a63d1[_0x5de59e(0x1a9)]);}if(0x0===_0x2b19fe[_0x5de59e(0x1de)])return;const _0x9047b9=await _0x25fffb[_0x5de59e(0x1ef)](_0x442377,Array[_0x5de59e(0x1ff)](_0x2b19fe));for(const _0x40796c of _0x9047b9)_0x34de8f[_0x5de59e(0x202)](_0x40796c['id'])||_0x34de8f[_0x5de59e(0x1be)](_0x40796c);function _0x348e7c(_0x90b857){const _0x33cbb3=_0x5de59e;_0x34de8f[_0x33cbb3(0x202)](_0x90b857)||_0x2b19fe[_0x33cbb3(0x1b2)](_0x90b857);}}}v[_0x2e112d(0x1f7)]=_0xb877a5;export default v;function st(_0x152d8e){const _0x3cabf7=_0x2e112d;return _0x152d8e[_0x3cabf7(0x20b)][_0x3cabf7(0x1cb)](_0x3cabf7(0x207))||_0x152d8e[_0x3cabf7(0x20b)][_0x3cabf7(0x1cb)](_0x3cabf7(0x1ab))||_0x152d8e[_0x3cabf7(0x20b)][_0x3cabf7(0x1cb)](_0x3cabf7(0x1e0));}