/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x45cac1=_0x2f24;(function(_0x23d928,_0x543a1a){const _0x5314dd=_0x2f24,_0xaa9d52=_0x23d928();while(!![]){try{const _0x5eca69=parseInt(_0x5314dd(0x1e2))/0x1+-parseInt(_0x5314dd(0x1ff))/0x2*(-parseInt(_0x5314dd(0x1ef))/0x3)+parseInt(_0x5314dd(0x213))/0x4*(-parseInt(_0x5314dd(0x208))/0x5)+parseInt(_0x5314dd(0x204))/0x6+-parseInt(_0x5314dd(0x20f))/0x7*(parseInt(_0x5314dd(0x1e9))/0x8)+parseInt(_0x5314dd(0x1dc))/0x9*(parseInt(_0x5314dd(0x203))/0xa)+parseInt(_0x5314dd(0x1e3))/0xb*(parseInt(_0x5314dd(0x1e0))/0xc);if(_0x5eca69===_0x543a1a)break;else _0xaa9d52['push'](_0xaa9d52['shift']());}catch(_0x3232ff){_0xaa9d52['push'](_0xaa9d52['shift']());}}}(_0x2325,0xe2b14));function _0x2f24(_0x128acc,_0x1da006){const _0x2325e8=_0x2325();return _0x2f24=function(_0x2f24d7,_0x525d42){_0x2f24d7=_0x2f24d7-0x1db;let _0x252cc2=_0x2325e8[_0x2f24d7];return _0x252cc2;},_0x2f24(_0x128acc,_0x1da006);}import{Plugin as _0x570d0a}from'ckeditor5/src/core.js';function _0x2325(){const _0x5c5dda=['230BBISaq','4045152MyJizB','getUser','config','requires','5jywuOx','editor','catch','message','hasSuggestion','listenTo','init','679drOYGl','type','state','data','6140228vcjpcz','then','TrackChangesService','connected','_trackChangesService','from','suggestionUpdated','585549wWTGBl','_waitForServiceReady','collaboration.channelId','attributes','12ELNbwp','adapter','502398huFdKW','5633265Btllkd','cloud-services-internal-error:\x20Not\x20connected.','startsWith','addToReconnectionStack','plugins','_bufferedRequests','94304uzxCyL','size','_fetchMissingUsersForThreads','reconnect','cloud-services-internal-error:\x20Request\x20timeout.','add','3suaBcv','update','TrackChangesEditing','set','isConnected','connection','get','find','getMany','off','values','_saved','originalSuggestionId','delete','connect','getSuggestion','843834BWZOGA','addUser','open','addSuggestionData'];_0x2325=function(){return _0x5c5dda;};return _0x2325();}import{TrackChangesService as _0x1707fb}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';import{User as _0x4fd671}from'@ckeditor/ckeditor-cloud-services-collaboration';import _0x29ef49 from'../realtimecollaborativeediting/websocketgateway.js';import _0x492791 from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';import{Users as _0x42661d}from'ckeditor5-collaboration/src/collaboration-core.js';export default class g extends _0x570d0a{static get[_0x45cac1(0x207)](){const _0x1d2da9=_0x45cac1;return[_0x492791,_0x1d2da9(0x1f1),_0x29ef49];}constructor(_0x389982){const _0x380103=_0x45cac1;super(_0x389982);const _0x3881c9=this[_0x380103(0x209)][_0x380103(0x206)][_0x380103(0x1f5)](_0x380103(0x1de));this[_0x380103(0x1e8)]=new Map(),this[_0x380103(0x217)]=new g[(_0x380103(0x215))](_0x3881c9);}[_0x45cac1(0x20e)](){const _0x448ff2=_0x45cac1,_0x24d873=this[_0x448ff2(0x209)][_0x448ff2(0x1e7)][_0x448ff2(0x1f5)](_0x29ef49),_0x3ec79e=this[_0x448ff2(0x209)][_0x448ff2(0x1e7)][_0x448ff2(0x1f5)](_0x448ff2(0x1f1));return _0x3ec79e[_0x448ff2(0x1e1)]={'getSuggestion':async _0x293ce4=>{const _0x51eee2=_0x448ff2;await this[_0x51eee2(0x1dd)]();const _0x4518f8=await this[_0x51eee2(0x217)][_0x51eee2(0x1f5)](_0x293ce4)[_0x51eee2(0x20a)](B);return await this[_0x51eee2(0x1eb)]([_0x4518f8]),_0x4518f8;},'addSuggestion':async({id:_0xd0e357,type:_0x5cf993,data:_0x5bb772,originalSuggestionId:_0x266e3d,attributes:_0x1ab5fa})=>{const _0x22d117=_0x448ff2;await this[_0x22d117(0x1dd)]();const _0x5975e7={'id':_0xd0e357,'type':_0x5cf993,'data':_0x5bb772,'originalSuggestionId':_0x266e3d,'attributes':_0x1ab5fa},_0x32d178=await this[_0x22d117(0x217)][_0x22d117(0x1ee)](_0xd0e357,_0x5cf993,_0x5bb772,_0x266e3d,_0x1ab5fa)[_0x22d117(0x20a)](_0x20754c=>{if(st(_0x20754c))return new Promise(_0x1053be=>{const _0x3b315a=_0x2f24;this[_0x3b315a(0x1e8)][_0x3b315a(0x1f2)](_0xd0e357,{'resolve':_0x1053be,'suggestionData':_0x5975e7});});throw _0x20754c;});return this[_0x22d117(0x1e8)][_0x22d117(0x1fc)](_0xd0e357),_0x32d178;},'updateSuggestion':async(_0x5abcef,_0x5dc5d3)=>{const _0x372dca=_0x448ff2;if(await this[_0x372dca(0x1dd)](),_0x372dca(0x201)!==_0x5dc5d3[_0x372dca(0x211)])return this[_0x372dca(0x217)][_0x372dca(0x1f0)](_0x5abcef,_0x5dc5d3)[_0x372dca(0x20a)](B);}},this[_0x448ff2(0x20d)](this[_0x448ff2(0x217)],_0x448ff2(0x1db),(_0xe53d0a,_0x44d44e)=>{const _0x44803a=_0x448ff2;_0x3ec79e[_0x44803a(0x20c)](_0x44d44e['id'])&&(_0x3ec79e[_0x44803a(0x1fe)](_0x44d44e['id'])[_0x44803a(0x1df)]=_0x44d44e[_0x44803a(0x1df)]);}),this[_0x448ff2(0x217)][_0x448ff2(0x1fd)](_0x24d873[_0x448ff2(0x1f4)])[_0x448ff2(0x214)](_0x5bd82a=>(_0x24d873[_0x448ff2(0x1e6)](this),this[_0x448ff2(0x1eb)](_0x5bd82a)[_0x448ff2(0x214)](()=>{const _0x56fbc1=_0x448ff2;for(const _0x135afe of _0x5bd82a){_0x3ec79e[_0x56fbc1(0x202)](_0x135afe)[_0x56fbc1(0x1fa)]=!0x0;}})));}async[_0x45cac1(0x1ec)](){const _0x3f2a43=_0x45cac1,_0x2f1e2a=this[_0x3f2a43(0x209)][_0x3f2a43(0x1e7)][_0x3f2a43(0x1f5)](_0x3f2a43(0x1f1)),{connection:_0x16991e}=this[_0x3f2a43(0x209)][_0x3f2a43(0x1e7)][_0x3f2a43(0x1f5)](_0x29ef49),_0x3c24a0=await this[_0x3f2a43(0x217)][_0x3f2a43(0x1fd)](_0x16991e);await this[_0x3f2a43(0x1eb)](_0x3c24a0);for(const {suggestionData:_0x43fa99,resolve:_0x160d82}of this[_0x3f2a43(0x1e8)][_0x3f2a43(0x1f9)]()){let _0x3381d5=_0x3c24a0[_0x3f2a43(0x1f6)](_0x1b41d9=>_0x1b41d9['id']===_0x43fa99['id']);_0x3381d5||(_0x3381d5=await this[_0x3f2a43(0x217)][_0x3f2a43(0x1ee)](_0x43fa99['id'],_0x43fa99[_0x3f2a43(0x210)],_0x43fa99[_0x3f2a43(0x212)],_0x43fa99[_0x3f2a43(0x1fb)])),_0x160d82(_0x3381d5);}for(const _0x41a122 of _0x3c24a0)_0x2f1e2a[_0x3f2a43(0x20c)](_0x41a122['id'])||_0x2f1e2a[_0x3f2a43(0x202)](_0x41a122);}async[_0x45cac1(0x1dd)](){const _0x19fd20=_0x45cac1;this[_0x19fd20(0x217)][_0x19fd20(0x1f3)]||await new Promise(_0x5d0816=>{const _0x4cac84=_0x19fd20;this[_0x4cac84(0x20d)](this[_0x4cac84(0x217)],_0x4cac84(0x216),_0x530d86=>{const _0x25e353=_0x4cac84;_0x530d86[_0x25e353(0x1f8)](),_0x5d0816();});});}async[_0x45cac1(0x1eb)](_0x1310d1){const _0x25e743=_0x45cac1,_0xa4e706=this[_0x25e743(0x209)][_0x25e743(0x1e7)][_0x25e743(0x1f5)](_0x42661d),{connection:_0x20c8b2}=this[_0x25e743(0x209)][_0x25e743(0x1e7)][_0x25e743(0x1f5)](_0x29ef49),_0x38e065=new Set();for(const {authorId:_0x386d24}of _0x1310d1)_0xa4e706[_0x25e743(0x205)](_0x386d24)||_0x38e065[_0x25e743(0x1ee)](_0x386d24);if(0x0===_0x38e065[_0x25e743(0x1ea)])return;const _0x52facb=await _0x4fd671[_0x25e743(0x1f7)](_0x20c8b2,Array[_0x25e743(0x218)](_0x38e065));for(const _0xbb632b of _0x52facb)_0xa4e706[_0x25e743(0x205)](_0xbb632b['id'])||_0xa4e706[_0x25e743(0x200)](_0xbb632b);}}function B(_0x50ba41){if(st(_0x50ba41))return new Promise(()=>{});throw _0x50ba41;}function st(_0x3e5e3b){const _0x53391f=_0x45cac1;return _0x3e5e3b[_0x53391f(0x20b)][_0x53391f(0x1e5)](_0x53391f(0x1e4))||_0x3e5e3b[_0x53391f(0x20b)][_0x53391f(0x1e5)](_0x53391f(0x1ed));}g[_0x45cac1(0x215)]=_0x1707fb;