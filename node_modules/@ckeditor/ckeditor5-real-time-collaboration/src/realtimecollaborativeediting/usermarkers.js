/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3aaf9d=_0x4494;(function(_0x4ccc95,_0x140567){const _0x365511=_0x4494,_0x2d0723=_0x4ccc95();while(!![]){try{const _0x185c8b=parseInt(_0x365511(0x1aa))/0x1*(-parseInt(_0x365511(0x1a7))/0x2)+-parseInt(_0x365511(0x187))/0x3+-parseInt(_0x365511(0x196))/0x4*(-parseInt(_0x365511(0x19b))/0x5)+-parseInt(_0x365511(0x16d))/0x6*(-parseInt(_0x365511(0x174))/0x7)+parseInt(_0x365511(0x176))/0x8+parseInt(_0x365511(0x1b3))/0x9+parseInt(_0x365511(0x15b))/0xa*(-parseInt(_0x365511(0x18d))/0xb);if(_0x185c8b===_0x140567)break;else _0x2d0723['push'](_0x2d0723['shift']());}catch(_0x2504cf){_0x2d0723['push'](_0x2d0723['shift']());}}}(_0x14f2,0x44a17));import{Plugin as _0x417919}from'ckeditor5/src/core.js';import{global as _0x2dc2fb,DomEmitterMixin as _0x23b2d6}from'ckeditor5/src/utils.js';import _0x1cc459 from'./sessions.js';import{LiveRange as _0x531d93}from'ckeditor5/src/engine.js';import'../../theme/usermarkers.css';export default class H extends _0x417919{constructor(){const _0x247ef8=_0x4494;super(...arguments),this[_0x247ef8(0x16f)]=new(_0x23b2d6())();}static get[_0x3aaf9d(0x16c)](){return[_0x1cc459];}static get[_0x3aaf9d(0x172)](){const _0x47dd86=_0x3aaf9d;return _0x47dd86(0x19d);}[_0x3aaf9d(0x181)](){const _0xa7bcac=_0x3aaf9d,_0x596a9f=this[_0xa7bcac(0x152)],_0x2d5fc7=_0x596a9f[_0xa7bcac(0x146)][_0xa7bcac(0x160)](_0x1cc459);_0x596a9f[_0xa7bcac(0x1b0)][_0xa7bcac(0x182)](_0xa7bcac(0x16a))[_0xa7bcac(0x15a)]({'model':_0xa7bcac(0x15c),'view':(_0x307d78,{writer:_0x45e62d})=>function(_0x153bfc,_0x2508d5,_0x148d37,_0x481d84){const _0x2cb455=_0xa7bcac,_0x2470ab=_0x153bfc[_0x2cb455(0x19e)][_0x2cb455(0x194)](':')[0x2],_0x2ec185=_0x148d37[_0x2cb455(0x1a1)](_0x2470ab);if(!_0x2ec185||_0x2470ab===_0x148d37[_0x2cb455(0x149)])return;if(!_0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x14e)][_0x2cb455(0x189)](_0x153bfc[_0x2cb455(0x19c)][_0x2cb455(0x1b5)],_0x2cb455(0x157)))return;const _0x1d6933={'class':_0x2cb455(0x18f)+_0x2ec185[_0x2cb455(0x145)][_0x2cb455(0x163)](),'data-name':_0x2ec185[_0x2cb455(0x156)],'data-session-id':_0x2470ab},_0x156107=_0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x14d)][_0x2cb455(0x160)](_0x153bfc[_0x2cb455(0x19e)]),_0x2b8e7d=_0x156107[_0x2cb455(0x142)](),_0x53cc43=_0x2b8e7d[_0x2cb455(0x165)],_0x524fb5=_0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x14e)];if(_0x53cc43&&_0x524fb5[_0x2cb455(0x161)](_0x53cc43)&&_0x524fb5[_0x2cb455(0x1b6)](_0x53cc43)&&!_0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x14d)][_0x2cb455(0x160)](_0x2cb455(0x173)+_0x2470ab)[_0x2cb455(0x17f)]()[_0x2cb455(0x153)])return;const _0x5dbf0c=_0x2b8e7d[_0x2cb455(0x1b7)];return _0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x14e)][_0x2cb455(0x192)](_0x5dbf0c)&&!_0x481d84[_0x2cb455(0x1ba)][_0x2cb455(0x1b2)](_0x5dbf0c)&&(_0x1d6933[_0x2cb455(0x15e)]=!0x1),function(_0x43d4de,_0x4dfe37,_0x2e5be4){const _0x379ae1=_0x2cb455,_0x86f67f=_0x43d4de[_0x379ae1(0x168)](_0x379ae1(0x1a4),_0x4dfe37);return _0x43d4de[_0x379ae1(0x1a8)](_0x379ae1(0x193),!0x0,_0x86f67f),_0x86f67f[_0x379ae1(0x171)]=function(_0x408396){const _0x33a719=_0x379ae1,_0x322241=this[_0x33a719(0x14b)](_0x408396);return _0x322241[_0x33a719(0x185)]=_0x33a719(0x144)+_0x2e5be4[_0x33a719(0x156)]+_0x33a719(0x1af),_0x322241[_0x33a719(0x1be)](_0x33a719(0x1b1),()=>{const _0x41d912=_0x33a719;_0x322241[_0x41d912(0x1bd)][_0x41d912(0x197)](_0x41d912(0x195));}),_0x322241[_0x33a719(0x1be)](_0x33a719(0x17a),()=>{const _0x3bfea0=_0x33a719;_0x322241[_0x3bfea0(0x1bd)][_0x3bfea0(0x180)](_0x3bfea0(0x195));}),_0x322241;},_0x86f67f[_0x379ae1(0x17e)]=function(_0x4b22b2){const _0x22a625=_0x379ae1;return!(!this[_0x22a625(0x18e)](_0x22a625(0x193))||!_0x4b22b2[_0x22a625(0x18e)](_0x22a625(0x193))||this[_0x22a625(0x19a)](_0x22a625(0x1ad))!=_0x4b22b2[_0x22a625(0x19a)](_0x22a625(0x1ad)));},_0x86f67f;}(_0x2508d5,_0x1d6933,_0x2ec185);}(_0x307d78,_0x45e62d,_0x2d5fc7,_0x596a9f)}),_0x596a9f[_0xa7bcac(0x1b0)][_0xa7bcac(0x182)](_0xa7bcac(0x16a))[_0xa7bcac(0x1a5)]({'model':_0xa7bcac(0x155),'view':_0x122feb=>function(_0x3aefc5,_0xaa8b56){const _0x5907c9=_0xa7bcac,_0x268e63=_0x3aefc5[_0x5907c9(0x19e)][_0x5907c9(0x194)](':')[0x2];if(_0x268e63===_0xaa8b56[_0x5907c9(0x149)])return null;const _0x463d4=_0xaa8b56[_0x5907c9(0x1a1)](_0x268e63);if(!_0x463d4)return{'id':_0x268e63,'classes':[]};return{'id':_0x268e63,'classes':[_0x5907c9(0x1ae),_0x463d4[_0x5907c9(0x145)][_0x5907c9(0x1bf)]()],'attributes':{'data-session-id':_0x268e63},'priority':0x7d0+_0x463d4[_0x5907c9(0x191)]};}(_0x122feb,_0x2d5fc7)}),function(_0x4da8bb){const _0x4e9cab=_0xa7bcac,_0x440b15=_0x4da8bb[_0x4e9cab(0x1ba)],_0x1dff0c=new Map(),_0x42c71e=_0x4da8bb[_0x4e9cab(0x146)][_0x4e9cab(0x160)](_0x1cc459);_0x440b15[_0x4e9cab(0x14d)]['on'](_0x4e9cab(0x158),(_0x3405ef,_0x542cf2,_0x4a55c4,_0x36130a)=>{const _0x5d5a52=_0x4e9cab;if(!_0x36130a&&_0x1dff0c[_0x5d5a52(0x160)](_0x542cf2[_0x5d5a52(0x156)]))return _0x1dff0c[_0x5d5a52(0x160)](_0x542cf2[_0x5d5a52(0x156)])[_0x5d5a52(0x167)](),void _0x1dff0c[_0x5d5a52(0x190)](_0x542cf2[_0x5d5a52(0x156)]);const _0x17cb46=_0x542cf2[_0x5d5a52(0x156)][_0x5d5a52(0x194)](':')[0x2];if(_0x17cb46===_0x42c71e[_0x5d5a52(0x149)])return;const _0x58fb6c=_0x5d5a52(0x16b)+_0x17cb46;_0x440b15[_0x5d5a52(0x14d)][_0x5d5a52(0x1b4)](_0x58fb6c)&&_0x4da8bb[_0x5d5a52(0x162)][_0x5d5a52(0x178)](_0x58fb6c),_0x542cf2['on'](_0x5d5a52(0x143),(_0x10be8e,_0x4dea64,_0x24f2e0)=>{const _0x16cc84=_0x5d5a52;if(_0x16cc84(0x1ab)!=_0x4dea64[_0x16cc84(0x15d)][_0x16cc84(0x175)]&&_0x16cc84(0x1ab)==_0x542cf2[_0x16cc84(0x17f)]()[_0x16cc84(0x15d)][_0x16cc84(0x175)]&&!_0x1dff0c[_0x16cc84(0x1b4)](_0x542cf2[_0x16cc84(0x156)])){const _0x3861bf=_0x440b15[_0x16cc84(0x14e)][_0x16cc84(0x1c0)](_0x24f2e0[_0x16cc84(0x1a6)]);if(_0x3861bf){const _0x3cb0f7=_0x531d93[_0x16cc84(0x1bb)](_0x3861bf);_0x1dff0c[_0x16cc84(0x15f)](_0x542cf2[_0x16cc84(0x156)],_0x3cb0f7),_0x3cb0f7['on'](_0x16cc84(0x143),(_0x5864b5,_0x335314,_0x3a0b26)=>{const _0x26e3fe=_0x16cc84;if(_0x26e3fe(0x1ab)==_0x3cb0f7[_0x26e3fe(0x15d)][_0x26e3fe(0x175)]){const _0x2ef19a=_0x440b15[_0x26e3fe(0x14e)][_0x26e3fe(0x1c0)](_0x3a0b26[_0x26e3fe(0x1a6)]);_0x2ef19a?(_0x3cb0f7[_0x26e3fe(0x1b5)]=_0x2ef19a[_0x26e3fe(0x1b5)],_0x3cb0f7[_0x26e3fe(0x199)]=_0x2ef19a[_0x26e3fe(0x199)]):(_0x1dff0c[_0x26e3fe(0x190)](_0x542cf2[_0x26e3fe(0x156)]),_0x3cb0f7[_0x26e3fe(0x167)]());}});}}});}),_0x440b15[_0x4e9cab(0x170)]['on'](_0x4e9cab(0x1b9),()=>{const _0x450261=_0x4e9cab;_0x1dff0c[_0x450261(0x13e)]>0x0&&_0x440b15[_0x450261(0x188)]({'isUndoable':!0x1},_0x8d17a4=>{const _0x4a2c3b=_0x450261;for(const [_0x1280f2,_0x136e30]of _0x1dff0c)_0x4a2c3b(0x1ab)==_0x440b15[_0x4a2c3b(0x14d)][_0x4a2c3b(0x160)](_0x1280f2)[_0x4a2c3b(0x17f)]()[_0x4a2c3b(0x15d)][_0x4a2c3b(0x175)]&&(re(_0x1280f2[_0x4a2c3b(0x194)](':')[0x2],_0x136e30[_0x4a2c3b(0x17c)](),_0x440b15,_0x8d17a4),_0x136e30[_0x4a2c3b(0x167)]());_0x1dff0c[_0x4a2c3b(0x13f)]();});});}(_0x596a9f),this[_0xa7bcac(0x16f)][_0xa7bcac(0x177)](_0x2dc2fb[_0xa7bcac(0x170)],_0xa7bcac(0x179),(_0x4a2315,{key:_0x3f77f9})=>{const _0x479120=_0xa7bcac;_0x479120(0x186)===_0x3f77f9&&function(_0x2f893a){const _0x5ebb5e=_0x479120;_0x2f893a[_0x5ebb5e(0x162)][_0x5ebb5e(0x141)][_0x5ebb5e(0x1b9)](_0x283a06=>{const _0x48de48=_0x5ebb5e;for(const _0x59f2bc of _0x2f893a[_0x48de48(0x1ba)][_0x48de48(0x14d)]){if(!_0x59f2bc[_0x48de48(0x156)][_0x48de48(0x1ac)](_0x48de48(0x15c)))continue;const _0x19ff28=_0x2f893a[_0x48de48(0x162)][_0x48de48(0x147)][_0x48de48(0x159)](_0x59f2bc[_0x48de48(0x156)]);if(_0x19ff28){for(const _0x1f57cb of _0x19ff28)_0x283a06[_0x48de48(0x19f)](_0x48de48(0x195),_0x1f57cb);}}});}(_0x596a9f);},{'useCapture':!0x0});}[_0x3aaf9d(0x18c)](){const _0x5dcd59=_0x3aaf9d,_0x90fb70=this[_0x5dcd59(0x152)],_0x2423a9=_0x90fb70[_0x5dcd59(0x18b)][_0x5dcd59(0x160)](_0x5dcd59(0x16e));_0x2423a9&&_0x90fb70[_0x5dcd59(0x1ba)]['on'](_0x5dcd59(0x140),(_0x1a3766,_0xb1456f)=>{const _0x45b72f=_0x5dcd59,_0x1ca0e3=_0xb1456f[0x0];if(_0x45b72f(0x154)!=_0x1ca0e3[_0x45b72f(0x166)]||!_0x1ca0e3[_0x45b72f(0x156)][_0x45b72f(0x1ac)](_0x45b72f(0x151)))return;const _0x531ccc=_0x1ca0e3[_0x45b72f(0x148)];_0x2423a9[_0x45b72f(0x198)][_0x45b72f(0x1b4)](_0x531ccc)&&(_0x1ca0e3[_0x45b72f(0x169)]=_0x1ca0e3[_0x45b72f(0x1a3)]?_0x90fb70[_0x45b72f(0x1ba)][_0x45b72f(0x150)](_0x1ca0e3[_0x45b72f(0x1a3)][_0x45b72f(0x1b5)],_0x1ca0e3[_0x45b72f(0x1a3)][_0x45b72f(0x199)]):null);},{'priority':_0x5dcd59(0x1bc)});}[_0x3aaf9d(0x1a9)](){const _0x154c51=_0x3aaf9d;return this[_0x154c51(0x16f)][_0x154c51(0x1a2)](),super[_0x154c51(0x1a9)]();}[_0x3aaf9d(0x183)](){const _0x48302d=_0x3aaf9d,_0x453f98=this[_0x48302d(0x152)],_0x15c7ab=_0x453f98[_0x48302d(0x1ba)][_0x48302d(0x170)],_0x382e03=_0x453f98[_0x48302d(0x146)][_0x48302d(0x160)](_0x1cc459);_0x453f98[_0x48302d(0x1ba)][_0x48302d(0x188)]({'isUndoable':!0x1},_0x33d5e2=>{const _0x5e6c28=_0x48302d,_0x2cb17d=_0x5e6c28(0x173)+_0x382e03[_0x5e6c28(0x149)],_0x14df7f=_0x5e6c28(0x16b)+_0x382e03[_0x5e6c28(0x149)],_0x1dad47=_0x453f98[_0x5e6c28(0x1ba)][_0x5e6c28(0x14d)][_0x5e6c28(0x1b4)](_0x2cb17d);_0x453f98[_0x5e6c28(0x162)][_0x5e6c28(0x141)][_0x5e6c28(0x14a)]?re(_0x382e03[_0x5e6c28(0x149)],_0x15c7ab[_0x5e6c28(0x14f)][_0x5e6c28(0x18a)](),_0x453f98[_0x5e6c28(0x1ba)],_0x33d5e2):_0x1dad47&&(_0x33d5e2[_0x5e6c28(0x17d)](_0x2cb17d),_0x33d5e2[_0x5e6c28(0x17d)](_0x14df7f));});}}function re(_0x21ec76,_0x3f3855,_0x2af4ae,_0x24cbbc){const _0x3f260a=_0x3aaf9d,_0x4a59f0=_0x3f260a(0x173)+_0x21ec76,_0x458739=_0x3f260a(0x16b)+_0x21ec76,_0xf3e098=_0x3f3855[_0x3f260a(0x14c)]();let _0x4ff27b=_0x3f3855[_0x3f260a(0x1b5)];_0xf3e098&&_0xf3e098['is'](_0x3f260a(0x164),_0x3f260a(0x184))&&(_0x4ff27b=function(_0x42867d,_0x1409ba){const _0x3e049c=_0x3f260a;for(const _0x1d8818 of _0x42867d[_0x3e049c(0x17b)]())if(_0x1409ba[_0x3e049c(0x14e)][_0x3e049c(0x189)](_0x1d8818,_0x3e049c(0x157)))return _0x1d8818;}(_0x3f3855,_0x2af4ae),_0x3f3855=_0x24cbbc[_0x3f260a(0x150)](_0x4ff27b));const _0x2588ad=_0x24cbbc[_0x3f260a(0x150)](_0x4ff27b);_0x2af4ae[_0x3f260a(0x14d)][_0x3f260a(0x1b4)](_0x4a59f0)?(_0x24cbbc[_0x3f260a(0x1a0)](_0x4a59f0,{'range':_0x3f3855}),_0x24cbbc[_0x3f260a(0x1a0)](_0x458739,{'range':_0x2588ad})):(_0x24cbbc[_0x3f260a(0x1b8)](_0x4a59f0,{'range':_0x3f3855,'usingOperation':!0x0}),_0x24cbbc[_0x3f260a(0x1b8)](_0x458739,{'range':_0x2588ad,'usingOperation':!0x0}));}function _0x4494(_0x4d95bd,_0x52be60){const _0x14f28b=_0x14f2();return _0x4494=function(_0x449420,_0x16e20a){_0x449420=_0x449420-0x13e;let _0x26cd52=_0x14f28b[_0x449420];return _0x26cd52;},_0x4494(_0x4d95bd,_0x52be60);}function _0x14f2(){const _0x592764=['markerToHighlight','deletionPosition','20912eYXEaF','setCustomProperty','destroy','28xVEINq','$graveyard','startsWith','data-session-id','ck-user__selection','</span>⁠','conversion','mouseenter','hasContent','1476108sMBfSU','has','start','isInline','parent','addMarker','change','model','fromRange','highest','classList','addEventListener','getSelectionClass','getNearestSelectionRange','size','clear','applyOperation','view','getStart','change:range','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span><span\x20class=\x22ck-user__marker-tooltip\x22\x20contenteditable=\x22false\x22\x20spellcheck=\x22false\x22>','color','plugins','mapper','batch','mySessionId','hasDomSelection','toDomElement','getContainedElement','markers','schema','selection','createRange','user:','editor','isCollapsed','marker','user:range','name','$text','update:user:range','markerNameToElements','markerToElement','40DkaidE','user:position','root','contenteditable','set','get','isObject','editing','getMarkerClass','element','nodeAfter','type','detach','createUIElement','newRange','editingDowncast','user:position:','requires','709944iEhGBR','undo','_domEmitter','document','render','pluginName','user:range:','7EhTOOY','rootName','3901704ucQpOV','listenTo','reconvertMarker','keydown','mouseleave','getPositions','toRange','removeMarker','isSimilar','getRange','remove','init','for','createUserMarkerOperations','tableCell','innerHTML','Escape','457902MeLZZd','enqueueChange','checkChild','getFirstRange','commands','afterInit','200926FfxzCC','getCustomProperty','ck-user__marker\x20','delete','orderNumber','isLimit','userPositionMarker','split','ck-user__marker_hovered','16aXMOql','add','_createdBatches','end','getAttribute','36910NgoImK','markerRange','UserMarkers','markerName','removeClass','updateMarker','getUserBySessionId','stopListening','oldRange','span'];_0x14f2=function(){return _0x592764;};return _0x14f2();}