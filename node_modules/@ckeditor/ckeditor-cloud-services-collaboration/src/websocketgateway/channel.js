/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{EmitterMixin}from'ckeditor5/src/utils.js';import _0x3f68f4 from'./../websocketgateway/messages/channelmessage.js';import _0x50182d from'./../messagescompressor.js';class Channel extends EmitterMixin(){constructor(_0x193243,_0x55afc7,_0x52de6b){super(),this['_channelName']=_0x193243,this['_wsGateway']=_0x55afc7,this['_socket']=_0x52de6b,this['_subscribeToChannel']();}['remove'](){this['_socket']['off'](this['_channelName']);}['getEventName'](_0x6dbe1,_0x16584=!0x1){let _0x446323='';return _0x16584&&(_0x446323+='all:'),_0x446323+='event',_0x6dbe1&&(_0x446323+=':'+_0x6dbe1),_0x446323;}['_subscribeToChannel'](){this['_socket']['on'](this['_channelName'],_0x5dec00=>{const _0x57b59b=_0x50182d['decode'](_0x5dec00,_0x3f68f4);this['fire'](this['getEventName'](_0x57b59b['type'],!0x0),_0x57b59b['data'],_0x57b59b['socketId']),_0x57b59b['socketId']!==this['_wsGateway']['socketId']&&this['fire'](this['getEventName'](_0x57b59b['type']),_0x57b59b['data'],_0x57b59b['socketId']);});}}export default Channel;