/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x32a220 from'./../../../messagescompressor.js';import _0x805a6a from'./../../../message.js';import _0x2ee437 from'./packetoptionsmessage.js';import _0x1374b7 from'./../parserutils.js';import _0x2f28ff from'./numberbytespacketdatamessage.js';import _0x5e2bf4 from'./stringbytespacketdatamessage.js';import _0x46b892 from'./bytesbytespacketdatamessage.js';import _0x1490de from'./stringobjectpacketdatamessage.js';import _0x4d7570 from'./numberobjectpacketdatamessage.js';import _0x413cbe from'./objectobjectpacketdatamessage.js';import _0x48fae0 from'./objectbufferpacketdatamessage.js';import _0x10a084 from'./stringstringpacketdatamessage.js';import _0xf6f70a from'./stringnumberpacketdatamessage.js';import _0x25d6e6 from'./numbernumberpacketdatamessag.js';import _0x34b83b from'./numberstringpacketdatamessag.js';const PACKET_DATA_MESSAGES=[_0x2f28ff,_0x5e2bf4,_0x46b892,_0x1490de,_0x4d7570,_0x413cbe,_0x48fae0,_0x10a084,_0xf6f70a,_0x25d6e6,_0x34b83b]['reduce']((_0x1b2db8,_0x27008a)=>(_0x1b2db8[_0x27008a['TYPE']]=_0x27008a,_0x1b2db8),{});export default class PacketMessage extends _0x805a6a{constructor(_0x30b0f4,_0x535185,_0x3ccd04,_0x42e2b3='/',_0x57776a=new _0x2ee437()){super(),this['type']=_0x30b0f4,this['data']=_0x535185,this['id']=_0x3ccd04,this['nsp']=_0x42e2b3,this['options']=_0x57776a;}get['packetData'](){return void 0x0===this['data']['data']&&void 0x0===this['data']['data1']?[]:this['data']['data']&&void 0x0===this['data']['data1']?[this['data']['data']]:[this['data']['data'],this['data']['data1']];}['toJSON'](){const _0x186228=_0x32a220['encode'](this['options']),_0x4d04c1=_0x32a220['encode'](this['data']);return{'type':this['type']+0xa*this['data']['constructor']['TYPE'],'id':this['id'],'nsp':'/'===this['nsp']?void 0x0:this['nsp'],'data':_0x4d04c1,'options':_0x186228};}static['fromJSON'](_0x669d0b){const _0x404eac=Math['floor'](_0x669d0b['type']/0xa);return new PacketMessage(_0x669d0b['type']-0xa*_0x404eac,_0x32a220['decode'](_0x669d0b['data'],PACKET_DATA_MESSAGES[_0x404eac]),_0x669d0b['id'],_0x669d0b['nsp'],_0x669d0b['options']?_0x32a220['decode'](_0x669d0b['options'],_0x2ee437):new _0x2ee437());}static['create'](_0x488749,_0xa82c8d={}){var _0x119739;const _0x4d8bb4=_0x1374b7['getPacketType'](_0x1374b7['getType'](_0x488749['data'][0x0]),_0x1374b7['getType'](null!==(_0x119739=_0x488749['data'][0x1])&&void 0x0!==_0x119739?_0x119739:_0x488749['data'][0x0]));return new PacketMessage(_0x488749['type'],PACKET_DATA_MESSAGES[_0x4d8bb4]['create'](_0x488749['data'][0x0],_0x488749['data'][0x1]),_0x488749['id'],_0x488749['nsp'],new _0x2ee437(_0xa82c8d['flags'],_0xa82c8d['rooms'],_0xa82c8d['except']));}}PacketMessage['TYPE']=0xa,PacketMessage['DESCRIPTOR_NAME']='PacketMessage',PacketMessage['DESCRIPTOR']={'fields':{'type':{'type':'uint32','id':0x1},'id':{'type':'uint32','id':0x2},'nsp':{'type':'string','id':0x3},'data':{'type':'bytes','id':0x4},'options':{'type':'bytes','id':0x5}}};