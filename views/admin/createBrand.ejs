<% include ./partials/header.ejs %>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <main class="main pt-2">
    <nav aria-label="breadcrumb" class="d-none d-lg-block">
      <ol class="breadcrumb bg-transparent p-0 justify-content-end">
        <li class="breadcrumb-item text-capitalize">
          <a href="https://theluxeblog.com/admin/dashboard">Admin</a>
        </li>
        <li class="breadcrumb-item text-capitalize">
          <a href="https://theluxeblog.com/admin/blog">blogs</a>
        </li>
        <li class="breadcrumb-item text-capitalize active" aria-current="page">
          Add
        </li>
      </ol>
    </nav>

    <section class="container-fluid">
      <h2>
        <span class="text-capitalize">brands</span>
        <small>Add Brand.</small>

        <small
          ><a href="/admin/brand" class="d-print-none font-sm"
            ><i class="la la-angle-double-left"></i> Back to all
            <span>brands</span></a
          ></small
        >
      </h2>
    </section>

    <div class="container-fluid animated fadeIn">
      <div class="row">
        <div class="col-md-12 mt-5">
          <form
            action="/brandcreate"
            method="POST"
            enctype="multipart/form-data"
          >
            <div>
              <label for="name">Name:</label>
              <input
                type="text"
                id="name"
                name="name"
                value="<%= brand.name %>"
                required
              />
            </div>
            <div>
              <label for="titleSuffix">Title Suffix:</label>
              <input
                type="text"
                id="titleSuffix"
                name="titleSuffix"
                value="<%= brand.titleSuffix %>"
              />
            </div>
            <div>
              <label for="identifier">Identifier:</label>
              <input
                type="text"
                id="identifier"
                name="identifier"
                value="<%= brand.identifier %>"
                required
              />
            </div>
            <div>
              <label for="affiliateURL">Affiliate URL:</label>
              <input
                type="text"
                id="affiliateURL"
                name="affiliateURL"
                value="<%= brand.affiliateURL %>"
              />
            </div>
            <div>
              <label for="category">Choose a category:</label>

              <select
                name="category"
                id="category"
                style="-webkit-appearance: none; cursor: text"
              >
                <% category.forEach(cat => { %>
                <option value="<%= cat._id %>"><%= cat.title %></option>
                <% }) %>
                <option
                  value=""
                  selected
                  disabled
                  selected
                  style="display: none"
                ></option>
              </select>
            </div>
            <div>
              <label for="image">Upload Image:</label>
              <input type="file" id="image" name="image" />
              <% if (brand.image) { %>
              <img
                src="/images/uploads/<%= brand.image %>"
                alt="<%= brand.name %>"
              />
              <% } %>
            </div>
            <div>
              <label for="redirection">Redirection:</label>
              <input
                type="text"
                id="redirection"
                name="redirection"
                value="<%= brand.redirection %>"
              />
            </div>
            <div>
              <label for="brandDynamicContent">Brand Dynamic Content:</label>
              <textarea id="brandDynamicContent" name="brandDynamicContent">
<%= brand.brandDynamicContent %></textarea
              >
            </div>
            <div>
              <label for="metaTitle">Meta Title/Page Title:</label>
              <input
                type="text"
                id="metaTitle"
                name="metaTitle"
                value="<%= brand.metaTitle %>"
              />
            </div>
            <div>
              <label for="metaKeywords">Meta Keywords:</label>
              <input
                type="text"
                id="metaKeywords"
                name="metaKeywords"
                value="<%= brand.metaKeywords %>"
              />
            </div>
            <div>
              <label for="metaDescription">Meta Description:</label>
              <textarea id="metaDescription" name="metaDescription">
<%= brand.metaDescription %></textarea
              >
            </div>
            <div>
              <label for="offersTableHeading">Offers Table Heading:</label>
              <input
                type="text"
                id="offersTableHeading"
                name="offersTableHeading"
                value="<%= brand.offersTableHeading %>"
              />
            </div>
            <div>
              <label for="aboutSectionHeading">About Section Heading:</label>
              <input
                type="text"
                id="aboutSectionHeading"
                name="aboutSectionHeading"
                value="<%= brand.aboutSectionHeading %>"
              />
            </div>
            <div>
              <label for="sidebarDescription">Sidebar Description:</label>
              <textarea id="description" name="sidebarDescription">
<%= brand.sidebarDescription %></textarea
              >
            </div>
            <div>
              <label for="description">Description:</label>
              <textarea id="description" name="description">
<%= brand.description %></textarea
              >
            </div>
            <div>
              <label for="rating">Rating:</label>
              <input
                type="number"
                id="rating"
                name="rating"
                value="<%= brand.rating %>"
                min="0"
                max="5"
                step="0.1"
              />
            </div>
            <div>
              <label for="ratingCount">Rating Count:</label>
              <input
                type="number"
                id="ratingCount"
                name="ratingCount"
                value="<%= brand.ratingCount %>"
              />
            </div>
            <div>
              <button type="submit">Save</button>
            </div>
          </form>

          <script>
            const nameInput = document.getElementById("name");
            const slugInput = document.getElementById("identifier");

            nameInput.addEventListener("input", function () {
              const name = this.value.trim(); // Get the value of the title input and remove leading/trailing spaces
              const identifier = slugify(name); // Generate slug from title
              slugInput.value = identifier; // Update the value of the slug input
            });

            // Function to generate slug from title
            function slugify(name) {
              return name.toLowerCase().replace(/\s+/g, "-"); // Convert title to lowercase and replace spaces with dashes
            }
          </script>

          <script>
            tinymce.init({
              selector: "#description",
              plugins:
                "advlist autolink lists link image charmap print preview hr anchor pagebreak",
              toolbar_mode: "floating",
            });
          </script>
        </div>
      </div>
    </div>
  </main>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>

  <!-- /.control-sidebar -->
</div>

<style>
  .content-wrapper {
    background-color: #f4f6f9;
  }
  .content-header {
    padding: 15px;
  }
  .main {
    padding: 20px;
  }
  .breadcrumb {
    margin-bottom: 20px;
  }
  form {
    margin-top: 20px;
  }
  input[type="text"],
  input[type="file"],
  select {
    display: block;
    width: 100%;
    max-width: 600px;
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid #ced4da;
    border-radius: 4px;
  }
  #editorjs {
    border: 1px solid #ced4da;
    border-radius: 4px;
    padding: 10px;
    min-height: 300px;
    background-color: #fff;
  }
  input[type="submit"] {
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  input[type="submit"]:hover {
    background-color: #0056b3;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/list@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/image@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/quote@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/code@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/delimiter@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/table@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/raw@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/@editorjs/warning@latest"></script>

<!-- <script src="/javascripts/editor.js"></script> -->

<!-- ./wrapper -->

<!-- jQuery -->
<% include ./partials/footer.ejs %>
